<!DOCTYPE html>
<html>
<head>
	<title>Problem 6. Group people</title>
</head>
<body>
	<h1>Problem 6. Group people</h1>
	<ul>
		<li>Write a function that groups an array of persons by first letter of first name and returns the groups as a JavaScript Object
			<ul>
				<li>Use Array#reduce</li>
				<li>Use only array methods and no regular loops (for, while)</li>
 			</ul>
		</li>
	</ul>
	<p>
		Example:</br>
		result = {</br>
	        'a': [{</br>
	            firstname: 'Asen',</br>
	            /* ... */</br>
	        }, {</br>
	            firstname: 'Anakonda',</br>
	            /* ... */</br>
	        }],</br>
	        'j': [{</br>
	            firstname: 'John',</br>
	            /* ... */</br>
	        }]</br>
	    };</br>
	</p>
	<script>
		// Function for creating persons
		function createPerson(firstname, lastname, age, gender){
			var Person = {
				firstname: firstname,
				lastname: lastname,
				age: age,
				gender: gender
			} 
			return Person;
		}

		// Fill array with random persons
		var counter = 0,
			sex = true,
			persons = Array.apply(null, new Array(50)).map(function(item){
				sex = sex?false:true
				var firstname = String.fromCharCode(getRandomInt(65, 70)) +'Jone' + (++counter), // ascci 65-90 == A-Z
					lastname = 'Doe' + (counter),
					age = 10 + counter,
					gender = sex;
				return createPerson(firstname, lastname, age, gender);
			});
		counter = null;

		// Main logic here
		// function that groups an array of persons by first letter of first name and returns the groups as a JavaScript Object
		function group(arr){
			return arr.reduce(function(group, person, index, array) {
						var firsfLetter = person.firstname[0];
						if (!group[firsfLetter]) {
	  						group[firsfLetter] = [];
						}

  						group[firsfLetter].push(person);

  						return group;
					}, {});
		}

		// Output
		console.log(group(persons));


		// Helper function
		// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/random
		function getRandomInt(min, max) {
			return Math.floor(Math.random() * (max - min)) + min;
		}
	</script>
</body>
</html>